{% extends "layout.html" %}

{% block title %}{{ blog.title }} - BlogSphere{% endblock %}

{% block content %}
<div class="fade-in max-w-4xl mx-auto">
    <div class="bg-white shadow-lg rounded-lg overflow-hidden">
        <div class="p-6 md:p-8">
            <div class="flex items-center mb-6">
                <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-primary-100 text-primary-800">
                    {{ category.name if category else 'Uncategorized' }}
                </span>
                <span class="ml-3 text-sm text-gray-500">{{ blog.created_at.strftime('%B %d, %Y') }}</span>
                
                {% if blog.status == 'pending' %}
                <span class="ml-3 px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-yellow-100 text-yellow-800">
                    Pending Review
                </span>
                {% elif blog.status == 'rejected' %}
                <span class="ml-3 px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800">
                    Rejected
                </span>
                {% endif %}
            </div>
            
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">{{ blog.title }}</h1>
            
            <div class="flex items-center mb-8">
                <div class="flex-shrink-0">
                    <span class="inline-flex items-center justify-center h-10 w-10 rounded-full bg-gray-500 text-white">
                        {{ blog.author_name[0]|upper }}
                    </span>
                </div>
                <div class="ml-3">
                    <p class="text-sm font-medium text-gray-900">{{ blog.author_name }}</p>
                    <div class="flex space-x-1 text-sm text-gray-500">
                        <span>Author</span>
                    </div>
                </div>
            </div>
            
            <div class="prose prose-lg max-w-none blog-content">
                {{ blog.content|safe }}
            </div>
            
            {% if current_user.is_authenticated and current_user.id == blog.author_id|string %}
            <div class="mt-8 pt-6 border-t border-gray-200">
                <div class="flex justify-end">
                    <a href="{{ url_for('my_blogs') }}" class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition duration-150">
                        Back to My Blogs
                    </a>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
    
    <div class="mt-8 bg-white shadow-lg rounded-lg overflow-hidden">
        <div class="p-6">
            <h3 class="text-lg font-medium text-gray-900 mb-4">Related Blogs</h3>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- This would be populated with actual related blogs in a real implementation -->
                <div class="hover-scale bg-gray-50 p-4 rounded-md transition-all duration-300">
                    <h4 class="text-md font-semibold text-gray-900">Discover more blogs in this category</h4>
                    <p class="text-sm text-gray-600 mt-1">Explore other interesting posts in the {{ category.name if category else 'Uncategorized' }} category.</p>
                </div>
                
                <div class="hover-scale bg-gray-50 p-4 rounded-md transition-all duration-300">
                    <h4 class="text-md font-semibold text-gray-900">Check out trending blogs</h4>
                    <p class="text-sm text-gray-600 mt-1">See what other readers are enjoying on BlogSphere.</p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}